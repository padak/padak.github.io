<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Practice - Present Simple & Present Continuous</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #764ba2;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .score-board {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.2em;
        }

        .question {
            background: #f8f9fa;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .question-number {
            color: #764ba2;
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .sentence {
            font-size: 1.2em;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .blank {
            display: inline-block;
            min-width: 150px;
            padding: 2px 10px;
            border-bottom: 2px solid #764ba2;
            color: #764ba2;
            font-weight: bold;
            text-align: center;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .option {
            padding: 12px 20px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 1em;
        }

        .option:hover:not(.disabled) {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateY(-2px);
        }

        .option.selected {
            border-color: #764ba2;
            background: #f0f4ff;
            font-weight: bold;
        }

        .option.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .hint {
            color: #666;
            font-size: 0.9em;
            font-style: italic;
            margin-top: 15px;
        }

        .feedback {
            margin-top: 15px;
            padding: 12px;
            border-radius: 5px;
            display: none;
        }

        .feedback.correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .explanation {
            margin-top: 10px;
            padding: 10px;
            background: #e8f4ff;
            border-left: 3px solid #007bff;
            border-radius: 3px;
            color: #004085;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .buttons {
            text-align: center;
            margin-top: 30px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 0 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results {
            display: none;
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 30px;
        }

        .results h2 {
            color: #764ba2;
            margin-bottom: 20px;
        }

        .results-score {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
        }

        .results-message {
            font-size: 1.2em;
            color: #666;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            .options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎓 English Practice</h1>
        <p class="subtitle">Present Simple & Present Continuous</p>

        <div class="score-board">
            Score: <span id="current-score">0</span> / <span id="total-questions">20</span>
        </div>

        <form id="quiz-form">
            <div class="question" data-question="1">
                <div class="question-number">Question 1</div>
                <div class="sentence">
                    My dad <span class="blank" id="blank-1">_______</span> coffee every morning.
                </div>
                <div class="options">
                    <div class="option" data-value="drink">drink</div>
                    <div class="option" data-value="drinks" data-correct="true">drinks</div>
                    <div class="option" data-value="is drinking">is drinking</div>
                    <div class="option" data-value="are drinking">are drinking</div>
                    <div class="option" data-value="drinking">drinking</div>
                    <div class="option" data-value="drinked">drinked</div>
                </div>
                <div class="hint">Hint: Present Simple - daily routine</div>
                <div class="feedback" id="feedback-1"></div>
            </div>

            <div class="question" data-question="2">
                <div class="question-number">Question 2</div>
                <div class="sentence">
                    Look outside! It <span class="blank" id="blank-2">_______</span> heavily.
                </div>
                <div class="options">
                    <div class="option" data-value="rains">rains</div>
                    <div class="option" data-value="rain">rain</div>
                    <div class="option" data-value="is raining" data-correct="true">is raining</div>
                    <div class="option" data-value="are raining">are raining</div>
                    <div class="option" data-value="raining">raining</div>
                    <div class="option" data-value="does rain">does rain</div>
                </div>
                <div class="hint">Hint: Present Continuous - Look!</div>
                <div class="feedback" id="feedback-2"></div>
            </div>

            <div class="question" data-question="3">
                <div class="question-number">Question 3</div>
                <div class="sentence">
                    Birds <span class="blank" id="blank-3">_______</span> south in winter.
                </div>
                <div class="options">
                    <div class="option" data-value="flies">flies</div>
                    <div class="option" data-value="fly" data-correct="true">fly</div>
                    <div class="option" data-value="is flying">is flying</div>
                    <div class="option" data-value="are flying">are flying</div>
                    <div class="option" data-value="flying">flying</div>
                    <div class="option" data-value="flys">flys</div>
                </div>
                <div class="hint">Hint: Present Simple - general fact</div>
                <div class="feedback" id="feedback-3"></div>
            </div>

            <div class="question" data-question="4">
                <div class="question-number">Question 4</div>
                <div class="sentence">
                    Shh! The teacher <span class="blank" id="blank-4">_______</span> to us.
                </div>
                <div class="options">
                    <div class="option" data-value="talks">talks</div>
                    <div class="option" data-value="talk">talk</div>
                    <div class="option" data-value="is talking" data-correct="true">is talking</div>
                    <div class="option" data-value="are talking">are talking</div>
                    <div class="option" data-value="talking">talking</div>
                    <div class="option" data-value="does talk">does talk</div>
                </div>
                <div class="hint">Hint: Present Continuous - happening now (Shh!)</div>
                <div class="feedback" id="feedback-4"></div>
            </div>

            <div class="question" data-question="5">
                <div class="question-number">Question 5</div>
                <div class="sentence">
                    He never <span class="blank" id="blank-5">_______</span> his homework.
                </div>
                <div class="options">
                    <div class="option" data-value="do">do</div>
                    <div class="option" data-value="does" data-correct="true">does</div>
                    <div class="option" data-value="is doing">is doing</div>
                    <div class="option" data-value="are doing">are doing</div>
                    <div class="option" data-value="doing">doing</div>
                    <div class="option" data-value="don't">don't</div>
                </div>
                <div class="hint">Hint: Present Simple - never (frequency adverb)</div>
                <div class="feedback" id="feedback-5"></div>
            </div>

            <div class="question" data-question="6">
                <div class="question-number">Question 6</div>
                <div class="sentence">
                    The students <span class="blank" id="blank-6">_______</span> an exam at this moment.
                </div>
                <div class="options">
                    <div class="option" data-value="take">take</div>
                    <div class="option" data-value="takes">takes</div>
                    <div class="option" data-value="is taking">is taking</div>
                    <div class="option" data-value="are taking" data-correct="true">are taking</div>
                    <div class="option" data-value="taking">taking</div>
                    <div class="option" data-value="do take">do take</div>
                </div>
                <div class="hint">Hint: Present Continuous - at this moment</div>
                <div class="feedback" id="feedback-6"></div>
            </div>

            <div class="question" data-question="7">
                <div class="question-number">Question 7</div>
                <div class="sentence">
                    <span class="blank" id="blank-7">_______</span> your sister like chocolate?
                </div>
                <div class="options">
                    <div class="option" data-value="Do">Do</div>
                    <div class="option" data-value="Does" data-correct="true">Does</div>
                    <div class="option" data-value="Is">Is</div>
                    <div class="option" data-value="Are">Are</div>
                    <div class="option" data-value="Has">Has</div>
                    <div class="option" data-value="Did">Did</div>
                </div>
                <div class="hint">Hint: Present Simple question - 3rd person singular</div>
                <div class="feedback" id="feedback-7"></div>
            </div>

            <div class="question" data-question="8">
                <div class="question-number">Question 8</div>
                <div class="sentence">
                    We <span class="blank" id="blank-8">_______</span> dinner with friends tonight.
                </div>
                <div class="options">
                    <div class="option" data-value="have">have</div>
                    <div class="option" data-value="has">has</div>
                    <div class="option" data-value="having">having</div>
                    <div class="option" data-value="are having" data-correct="true">are having</div>
                    <div class="option" data-value="is having">is having</div>
                    <div class="option" data-value="do have">do have</div>
                </div>
                <div class="hint">Hint: Present Continuous - planned future (tonight)</div>
                <div class="feedback" id="feedback-8"></div>
            </div>

            <div class="question" data-question="9">
                <div class="question-number">Question 9</div>
                <div class="sentence">
                    The Earth <span class="blank" id="blank-9">_______</span> around the Sun.
                </div>
                <div class="options">
                    <div class="option" data-value="move">move</div>
                    <div class="option" data-value="moves" data-correct="true">moves</div>
                    <div class="option" data-value="is moving">is moving</div>
                    <div class="option" data-value="are moving">are moving</div>
                    <div class="option" data-value="moving">moving</div>
                    <div class="option" data-value="do move">do move</div>
                </div>
                <div class="hint">Hint: Present Simple - scientific fact</div>
                <div class="feedback" id="feedback-9"></div>
            </div>

            <div class="question" data-question="10">
                <div class="question-number">Question 10</div>
                <div class="sentence">
                    <span class="blank" id="blank-10">_______</span> they watching TV now?
                </div>
                <div class="options">
                    <div class="option" data-value="Is">Is</div>
                    <div class="option" data-value="Are" data-correct="true">Are</div>
                    <div class="option" data-value="Do">Do</div>
                    <div class="option" data-value="Does">Does</div>
                    <div class="option" data-value="Am">Am</div>
                    <div class="option" data-value="Was">Was</div>
                </div>
                <div class="hint">Hint: Present Continuous question - plural subject</div>
                <div class="feedback" id="feedback-10"></div>
            </div>

            <div class="question" data-question="11">
                <div class="question-number">Question 11</div>
                <div class="sentence">
                    Dogs <span class="blank" id="blank-11">_______</span> meat.
                </div>
                <div class="options">
                    <div class="option" data-value="eats">eats</div>
                    <div class="option" data-value="eat" data-correct="true">eat</div>
                    <div class="option" data-value="is eating">is eating</div>
                    <div class="option" data-value="are eating">are eating</div>
                    <div class="option" data-value="eating">eating</div>
                    <div class="option" data-value="does eat">does eat</div>
                </div>
                <div class="hint">Hint: Present Simple - general truth about animals</div>
                <div class="feedback" id="feedback-11"></div>
            </div>

            <div class="question" data-question="12">
                <div class="question-number">Question 12</div>
                <div class="sentence">
                    Be quiet! The baby <span class="blank" id="blank-12">_______</span>.
                </div>
                <div class="options">
                    <div class="option" data-value="sleeps">sleeps</div>
                    <div class="option" data-value="sleep">sleep</div>
                    <div class="option" data-value="is sleeping" data-correct="true">is sleeping</div>
                    <div class="option" data-value="are sleeping">are sleeping</div>
                    <div class="option" data-value="sleeping">sleeping</div>
                    <div class="option" data-value="does sleep">does sleep</div>
                </div>
                <div class="hint">Hint: Present Continuous - Be quiet!</div>
                <div class="feedback" id="feedback-12"></div>
            </div>

            <div class="question" data-question="13">
                <div class="question-number">Question 13</div>
                <div class="sentence">
                    She <span class="blank" id="blank-13">_______</span> to music while studying.
                </div>
                <div class="options">
                    <div class="option" data-value="don't listen">don't listen</div>
                    <div class="option" data-value="doesn't listen" data-correct="true">doesn't listen</div>
                    <div class="option" data-value="isn't listening">isn't listening</div>
                    <div class="option" data-value="aren't listening">aren't listening</div>
                    <div class="option" data-value="not listen">not listen</div>
                    <div class="option" data-value="no listens">no listens</div>
                </div>
                <div class="hint">Hint: Present Simple negative - general habit</div>
                <div class="feedback" id="feedback-13"></div>
            </div>

            <div class="question" data-question="14">
                <div class="question-number">Question 14</div>
                <div class="sentence">
                    They <span class="blank" id="blank-14">_______</span> football in the park right now.
                </div>
                <div class="options">
                    <div class="option" data-value="don't play">don't play</div>
                    <div class="option" data-value="doesn't play">doesn't play</div>
                    <div class="option" data-value="isn't playing">isn't playing</div>
                    <div class="option" data-value="aren't playing" data-correct="true">aren't playing</div>
                    <div class="option" data-value="not playing">not playing</div>
                    <div class="option" data-value="no play">no play</div>
                </div>
                <div class="hint">Hint: Present Continuous negative - right now</div>
                <div class="feedback" id="feedback-14"></div>
            </div>

            <div class="question" data-question="15">
                <div class="question-number">Question 15</div>
                <div class="sentence">
                    <span class="blank" id="blank-15">_______</span> you understand the question?
                </div>
                <div class="options">
                    <div class="option" data-value="Do" data-correct="true">Do</div>
                    <div class="option" data-value="Does">Does</div>
                    <div class="option" data-value="Is">Is</div>
                    <div class="option" data-value="Are">Are</div>
                    <div class="option" data-value="Have">Have</div>
                    <div class="option" data-value="Can">Can</div>
                </div>
                <div class="hint">Hint: Present Simple question - state verb</div>
                <div class="feedback" id="feedback-15"></div>
            </div>

            <div class="question" data-question="16">
                <div class="question-number">Question 16</div>
                <div class="sentence">
                    My mom <span class="blank" id="blank-16">_______</span> a cake for my birthday today.
                </div>
                <div class="options">
                    <div class="option" data-value="makes">makes</div>
                    <div class="option" data-value="make">make</div>
                    <div class="option" data-value="is making" data-correct="true">is making</div>
                    <div class="option" data-value="are making">are making</div>
                    <div class="option" data-value="making">making</div>
                    <div class="option" data-value="does make">does make</div>
                </div>
                <div class="hint">Hint: Present Continuous - temporary action today</div>
                <div class="feedback" id="feedback-16"></div>
            </div>

            <div class="question" data-question="17">
                <div class="question-number">Question 17</div>
                <div class="sentence">
                    The shop <span class="blank" id="blank-17">_______</span> at 9 AM every day.
                </div>
                <div class="options">
                    <div class="option" data-value="open">open</div>
                    <div class="option" data-value="opens" data-correct="true">opens</div>
                    <div class="option" data-value="is opening">is opening</div>
                    <div class="option" data-value="are opening">are opening</div>
                    <div class="option" data-value="opening">opening</div>
                    <div class="option" data-value="do open">do open</div>
                </div>
                <div class="hint">Hint: Present Simple - regular schedule</div>
                <div class="feedback" id="feedback-17"></div>
            </div>

            <div class="question" data-question="18">
                <div class="question-number">Question 18</div>
                <div class="sentence">
                    Where <span class="blank" id="blank-18">_______</span> you going?
                </div>
                <div class="options">
                    <div class="option" data-value="is">is</div>
                    <div class="option" data-value="are" data-correct="true">are</div>
                    <div class="option" data-value="do">do</div>
                    <div class="option" data-value="does">does</div>
                    <div class="option" data-value="am">am</div>
                    <div class="option" data-value="have">have</div>
                </div>
                <div class="hint">Hint: Present Continuous question - movement</div>
                <div class="feedback" id="feedback-18"></div>
            </div>

            <div class="question" data-question="19">
                <div class="question-number">Question 19</div>
                <div class="sentence">
                    I always <span class="blank" id="blank-19">_______</span> my teeth before bed.
                </div>
                <div class="options">
                    <div class="option" data-value="brushes">brushes</div>
                    <div class="option" data-value="brush" data-correct="true">brush</div>
                    <div class="option" data-value="is brushing">is brushing</div>
                    <div class="option" data-value="am brushing">am brushing</div>
                    <div class="option" data-value="brushing">brushing</div>
                    <div class="option" data-value="do brush">do brush</div>
                </div>
                <div class="hint">Hint: Present Simple - always (routine)</div>
                <div class="feedback" id="feedback-19"></div>
            </div>

            <div class="question" data-question="20">
                <div class="question-number">Question 20</div>
                <div class="sentence">
                    The phone <span class="blank" id="blank-20">_______</span>! Can you answer it?
                </div>
                <div class="options">
                    <div class="option" data-value="rings">rings</div>
                    <div class="option" data-value="ring">ring</div>
                    <div class="option" data-value="is ringing" data-correct="true">is ringing</div>
                    <div class="option" data-value="are ringing">are ringing</div>
                    <div class="option" data-value="ringing">ringing</div>
                    <div class="option" data-value="does ring">does ring</div>
                </div>
                <div class="hint">Hint: Present Continuous - happening now!</div>
                <div class="feedback" id="feedback-20"></div>
            </div>
        </form>

        <div class="buttons">
            <button type="button" id="check-btn" onclick="checkAnswers()">Check Answers</button>
            <button type="button" id="reset-btn" onclick="resetQuiz()">Try Again</button>
        </div>

        <div class="results" id="results">
            <h2>🎉 Quiz Complete!</h2>
            <div class="results-score" id="final-score"></div>
            <div class="results-message" id="results-message"></div>
        </div>
    </div>

    <script>
        let score = 0;
        let totalAnswered = 0;
        let answeredQuestions = {};

        // Explanations for each question
        const explanations = {
            1: "We use 'drinks' (Present Simple) because it's a daily routine. With 'he/she/it', we add -s to the verb. 'Every morning' tells us it's a regular habit.",
            2: "We use 'is raining' (Present Continuous) because 'Look!' tells us to observe something happening right now. The rain is in progress at this moment.",
            3: "We use 'fly' (Present Simple) for general facts about nature. 'Birds' is plural, so we don't add -s. This is something that happens regularly every winter.",
            4: "We use 'is talking' (Present Continuous) because 'Shh!' indicates something is happening right now that we shouldn't interrupt. The action is in progress.",
            5: "We use 'does' (Present Simple) with 'never' for habits. 'He' is third person singular, so we use 'does' not 'do'. 'Never' is a frequency adverb used with Present Simple.",
            6: "We use 'are taking' (Present Continuous) because 'at this moment' clearly indicates an action happening right now. 'Students' is plural, so we use 'are'.",
            7: "We use 'Does' for Present Simple questions with third person singular (your sister). The main verb 'like' stays in base form after 'does'.",
            8: "We use 'are having' (Present Continuous) for planned future arrangements. 'Tonight' indicates a specific plan, and 'have dinner' is an event, not a habit.",
            9: "We use 'moves' (Present Simple) for scientific facts that are always true. The Earth is singular (it), so we add -s to the verb.",
            10: "We use 'Are' to form Present Continuous questions with 'they'. The structure is: Are + they + verb-ing for actions happening now.",
            11: "We use 'eat' (Present Simple) for general facts about animals. 'Dogs' is plural, so we don't add -s. This describes what dogs generally do.",
            12: "We use 'is sleeping' (Present Continuous) because 'Be quiet!' indicates we shouldn't disturb an action happening right now.",
            13: "We use 'doesn't listen' (Present Simple negative) for general habits. This describes what she usually doesn't do while studying.",
            14: "We use 'aren't playing' (Present Continuous negative) because 'right now' indicates this moment. 'They' takes 'are' in Present Continuous.",
            15: "We use 'Do' for Present Simple questions with 'you'. 'Understand' is a state verb that describes a mental state, typically used in Present Simple.",
            16: "We use 'is making' (Present Continuous) because 'today' indicates a temporary action happening on this specific day, not a regular habit.",
            17: "We use 'opens' (Present Simple) for regular schedules and timetables. 'Every day' confirms this is a routine. The shop (it) takes -s.",
            18: "We use 'are' to form Present Continuous questions about movement/direction with 'you'. 'Where are you going?' asks about current movement.",
            19: "We use 'brush' (Present Simple) with 'always' for regular habits. 'I' takes the base form of the verb without -s.",
            20: "We use 'is ringing' (Present Continuous) because the exclamation mark and 'Can you answer it?' show the phone is ringing right now."
        };

        // Initialize option click handlers
        document.addEventListener('DOMContentLoaded', () => {
            const options = document.querySelectorAll('.option');

            options.forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const questionNum = question.dataset.question;

                    // Check if this question was already answered
                    if (answeredQuestions[questionNum]) return;

                    const blank = document.getElementById(`blank-${questionNum}`);
                    const feedback = document.getElementById(`feedback-${questionNum}`);
                    const isCorrect = this.dataset.correct === 'true';

                    // Mark this question as answered
                    answeredQuestions[questionNum] = true;
                    totalAnswered++;

                    // Disable all options for this question
                    question.querySelectorAll('.option').forEach(opt => {
                        opt.classList.add('disabled');
                    });

                    // Mark the selected option
                    this.classList.add('selected');

                    // Update the blank with selected answer
                    blank.textContent = this.dataset.value;

                    if (isCorrect) {
                        // Correct answer
                        this.classList.add('correct');
                        blank.style.color = '#28a745';
                        feedback.innerHTML = '✓ Correct! Well done!';
                        feedback.className = 'feedback correct';
                        feedback.style.display = 'block';
                        score++;
                    } else {
                        // Incorrect answer
                        this.classList.add('incorrect');

                        // Find and highlight the correct answer
                        const correctOption = question.querySelector('.option[data-correct="true"]');
                        correctOption.classList.add('correct');

                        // Show correct answer in blank
                        blank.textContent = correctOption.dataset.value;
                        blank.style.color = '#dc3545';

                        // Show feedback with explanation
                        let feedbackHTML = `✗ Incorrect. The correct answer is: "<strong>${correctOption.dataset.value}</strong>"`;
                        feedbackHTML += `<div class="explanation">📚 <strong>Explanation:</strong> ${explanations[questionNum]}</div>`;

                        feedback.innerHTML = feedbackHTML;
                        feedback.className = 'feedback incorrect';
                        feedback.style.display = 'block';
                    }

                    // Update score display
                    document.getElementById('current-score').textContent = score;

                    // Check if all questions are answered
                    if (totalAnswered === 20) {
                        document.getElementById('check-btn').style.display = 'none';
                        showResults();
                    }
                });
            });
        });

        function checkAnswers() {
            // This function is now optional - shows results if student wants to finish early
            if (totalAnswered === 0) {
                alert('Please answer at least one question before checking results.');
                return;
            }

            // Mark all unanswered questions as incorrect
            const questions = document.querySelectorAll('.question');
            questions.forEach(question => {
                const questionNum = question.dataset.question;

                if (!answeredQuestions[questionNum]) {
                    answeredQuestions[questionNum] = true;

                    const options = question.querySelectorAll('.option');
                    const feedback = document.getElementById(`feedback-${questionNum}`);
                    const blank = document.getElementById(`blank-${questionNum}`);

                    // Disable all options
                    options.forEach(option => {
                        option.classList.add('disabled');
                        if (option.dataset.correct === 'true') {
                            option.classList.add('correct');
                        }
                    });

                    // Find correct answer
                    const correctOption = question.querySelector('.option[data-correct="true"]');

                    // Update blank with correct answer
                    blank.textContent = correctOption.dataset.value;
                    blank.style.color = '#dc3545';

                    // Show feedback
                    let feedbackHTML = `✗ Not answered. The correct answer is: "<strong>${correctOption.dataset.value}</strong>"`;
                    feedbackHTML += `<div class="explanation">📚 <strong>Explanation:</strong> ${explanations[questionNum]}</div>`;

                    feedback.innerHTML = feedbackHTML;
                    feedback.className = 'feedback incorrect';
                    feedback.style.display = 'block';
                }
            });

            document.getElementById('check-btn').style.display = 'none';
            showResults();
        }

        function showResults() {
            const results = document.getElementById('results');
            const finalScore = document.getElementById('final-score');
            const message = document.getElementById('results-message');

            finalScore.textContent = `${score}/20`;

            let messageText = '';
            const percentage = (score / 20) * 100;

            if (percentage === 100) {
                messageText = '🌟 Perfect! You are amazing at English!';
            } else if (percentage >= 80) {
                messageText = '🎊 Excellent work! You really understand these tenses!';
            } else if (percentage >= 60) {
                messageText = '👍 Good job! Keep practicing to improve even more!';
            } else if (percentage >= 40) {
                messageText = '💪 Nice try! Review the rules and try again!';
            } else {
                messageText = '📚 Keep studying! You can do better next time!';
            }

            message.textContent = messageText;
            results.style.display = 'block';
        }

        function resetQuiz() {
            score = 0;
            totalAnswered = 0;
            answeredQuestions = {};

            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect', 'disabled');
            });

            const blanks = document.querySelectorAll('.blank');
            blanks.forEach(blank => {
                blank.textContent = '_______';
                blank.style.color = '#764ba2';
            });

            const feedbacks = document.querySelectorAll('.feedback');
            feedbacks.forEach(feedback => {
                feedback.style.display = 'none';
            });

            document.getElementById('current-score').textContent = '0';
            document.getElementById('check-btn').style.display = 'inline-block';
            document.getElementById('results').style.display = 'none';

            window.scrollTo(0, 0);
        }

        document.getElementById('quiz-form').addEventListener('submit', (e) => {
            e.preventDefault();
            checkAnswers();
        });
    </script>
</body>
</html>